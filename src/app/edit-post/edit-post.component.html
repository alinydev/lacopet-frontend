<div class="bg-image">


<form [formGroup]="formulario" (ngSubmit)="onSubmit()" class=" max-w-md mx-auto p-4 bg-white shadow-md rounded-lg">
    <h2 class="text-xl font-semibold mb-4">Modifique a postagem: </h2>
    
    <label for="photo-upload" class="block text-gray-700 mb-2">Carregar Imagem:</label>
    <input 
        (change)="onFileChange($event)"
        type="file" 
        id="photo-upload" 
        accept="image/*" 
        class="block w-full border border-gray-300 p-2 rounded mb-4 focus:outline-none focus:border-blue-500"
        onchange="previewImage(event)"
    >

    <div id="image-preview" class="mb-4">
        <img id="preview" src="" alt="Pré-visualização" class="hidden max-w-full h-auto rounded"/>
    </div>

    <label for="textarea" class="block text-gray-700 mb-2">Seu Texto:</label>
    <textarea 
        id="textarea" 
        rows="4" 
        class="block w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"
        placeholder="Digite seu texto aqui..."
        formControlName="description"
    ></textarea>

    <button 
        type="submit" 
        class="mt-4 w-full bg-purple-500 text-white font-semibold py-2 rounded shadow hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-blue-purple focus:ring-opacity-50"
        
    >
        Confirmar
    </button>

    <button 
    type="button" 
    class="mt-4 w-full bg-purple-500 text-white font-semibold py-2 rounded shadow hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-blue-purple focus:ring-opacity-50"
    (click)="back()"
    >
    Volvar a página anterior
    </button>
</form>
</div>

<script>
    function previewImage(event) {
        const preview = document.getElementById('preview');
        const file = event.target.files[0];
        const reader = new FileReader();
        
        reader.onload = function(e) {
            preview.src = e.target.result;
            preview.classList.remove('hidden');
        }
        
        if (file) {
            reader.readAsDataURL(file);
        }
    }
</script>
